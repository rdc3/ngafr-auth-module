{"version":3,"file":"ngafr-authentication.umd.js","sources":["ng://ngafr-authentication/lib/ngafr-authentication.service.ts","ng://ngafr-authentication/lib/ngafr-authentication.component.ts","ng://ngafr-authentication/lib/ngafr-authentication.directive.ts","ng://ngafr-authentication/lib/ngafr-firebase-config.service.ts","ng://ngafr-authentication/lib/ngafr-authentication.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { FirebaseUISignInSuccessWithAuthResult, FirebaseUISignInFailure } from 'firebaseui-angular';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { map, catchError } from 'rxjs/operators';\r\nimport { of, Observable, BehaviorSubject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NgafrAuthenticationService {\r\n  private _loggedIn = false;\r\n  loggedIn: BehaviorSubject<boolean> = new BehaviorSubject(this._loggedIn);\r\n  private _user: firebase.User = null;\r\n  user: BehaviorSubject<firebase.User> = new BehaviorSubject(this._user);\r\n  hideLogOutButton$: BehaviorSubject<boolean> = new BehaviorSubject(false);\r\n  constructor(\r\n    private afAuth: AngularFireAuth,\r\n  ) { }\r\n  isUserLoggedIn(): Observable<void | firebase.User> {\r\n      return this.afAuth.authState.pipe(map((fBaseUser: firebase.User) => {\r\n        console.log('User: ', (fBaseUser && fBaseUser.email) ? fBaseUser.displayName : 'Guest');\r\n        this._loggedIn = (!!fBaseUser && !!fBaseUser.email);\r\n        this._user = fBaseUser;\r\n        if (this.loggedIn.value !== this._loggedIn)\r\n          this.loggedIn.next(this._loggedIn);\r\n        this.user.next(fBaseUser);\r\n        return fBaseUser;\r\n      }),\r\n        catchError((e) => of(console.log('exception:', e))\r\n      ));\r\n  }\r\n  logout() {\r\n    this.loggedIn.next(false);\r\n    this.afAuth.signOut();\r\n  }\r\n  hideLogOutButton(hide: boolean) {\r\n    this.hideLogOutButton$.next(hide);\r\n  }\r\n\r\n  loginSuccessCallback(data: FirebaseUISignInSuccessWithAuthResult) {\r\n    // console.log('successCallback', data);\r\n    this._loggedIn = true;\r\n    // this.router.navigate(['page']);\r\n  }\r\n\r\n  loginErrorCallback(data: FirebaseUISignInFailure) {\r\n    // console.warn('errorCallback', data);\r\n    this._loggedIn = false;\r\n  }\r\n  // isUserLoggedIn(): boolean {\r\n  //   return this.loggedIn;\r\n  // }\r\n}\r\n","import { Component, ViewEncapsulation, ViewChild, TemplateRef, OnInit, AfterViewInit, ChangeDetectorRef } from '@angular/core';\r\nimport { NgafrAuthenticationService } from './ngafr-authentication.service';\r\n\r\n@Component({\r\n  selector: 'lib-ngafr-authentication',\r\n  template: `\r\n    <ng-template #ngafrAuthElement>\r\n      <firebase-ui (signInSuccessWithAuthResult)=\"this.ngafrAuth.loginSuccessCallback($event)\"\r\n                   (signInFailure)=\"this.ngafrAuth.loginErrorCallback($event)\"></firebase-ui>\r\n      <button *ngIf=\"loggedIn && !hideLogOutButton\" (click)=\"this.ngafrAuth.logout()\">Logout1</button>\r\n    </ng-template>\r\n  `,\r\n  styleUrls: [\r\n    './ngafr-authentication.component.css',\r\n    '../../../../node_modules/firebaseui/dist/firebaseui.css'\r\n  ],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class NgafrAuthenticationComponent {\r\n  @ViewChild('ngafrAuthElement', { static: true }) ngafrAuthElement: TemplateRef<any>;\r\n  public loggedIn = false;\r\n  public hideLogOutButton = false;\r\n  constructor(\r\n    public ngafrAuth: NgafrAuthenticationService,\r\n    private cdr: ChangeDetectorRef) {\r\n    this.ngafrAuth.isUserLoggedIn().subscribe(user => {\r\n      if (user) {\r\n        this.loggedIn = true;\r\n      } else {\r\n        this.loggedIn = false;\r\n      }\r\n    });\r\n    this.ngafrAuth.hideLogOutButton$.subscribe(hide => {\r\n      this.hideLogOutButton = hide\r\n      console.log(\" in lib component : hideLogOutButton =\", this.hideLogOutButton);\r\n      \r\n      this.cdr.markForCheck();\r\n    });\r\n    \r\n  }\r\n}\r\n","import { NgafrAuthenticationService } from './ngafr-authentication.service';\r\nimport { Directive, OnInit, ComponentFactoryResolver, ViewContainerRef, ChangeDetectorRef, EventEmitter, Output, Input, ElementRef, HostListener, AfterViewInit } from '@angular/core';\r\nimport { NgafrAuthenticationComponent } from './ngafr-authentication.component';\r\nimport { of } from 'rxjs';\r\n\r\n\r\n@Directive({\r\n    selector: '[ngafrAuth]',\r\n    exportAs: 'ngafrAuth'\r\n})\r\nexport class NgafrAuthDirective implements OnInit,  AfterViewInit {\r\n    @Input('ngafrAuth') ngafrAuth : string; \r\n    @Input('userLogOut') userLogOut : string; \r\n    @Input('hideDefaultLogOutButton') hideDefaultLogOutButton : string = 'false'; \r\n    @Output('userLoggedInEvent') userLoggedInEvent = new EventEmitter<{ isLoggedIn: boolean }>();\r\n    @Output('userEvent') userEvent = new EventEmitter<{ user: firebase.User }>();\r\n    private authTemplateComponent: NgafrAuthenticationComponent;\r\n\r\n    constructor(\r\n        private componentFactoryResolver: ComponentFactoryResolver,\r\n        private viewContainer: ViewContainerRef,\r\n        private cdr: ChangeDetectorRef,\r\n        private auth: NgafrAuthenticationService,\r\n        private el: ElementRef\r\n    ) { \r\n        this.auth.loggedIn.subscribe(isLoggedIn => this.userLoggedInEvent.emit({ isLoggedIn: isLoggedIn }));\r\n        this.auth.user.subscribe(user => this.userEvent.emit({ user: user }));\r\n\r\n    }\r\n    ngAfterViewInit(): void {\r\n        this.auth.hideLogOutButton(JSON.parse(this.hideDefaultLogOutButton));\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        const componentFactory = this.componentFactoryResolver.resolveComponentFactory(NgafrAuthenticationComponent);\r\n        const componentRef = componentFactory.create(this.viewContainer.injector);\r\n        this.authTemplateComponent = componentRef.instance;\r\n        this.viewContainer.createEmbeddedView(this.authTemplateComponent.ngafrAuthElement);\r\n        this.cdr.markForCheck();\r\n    }\r\n\r\n    logout() {\r\n        this.auth.logout();\r\n    }\r\n}\r\n\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { IFirebaseAuthProviders } from './ngafr-firebase-config.model';\r\nimport * as firebase from 'firebase';\r\nimport * as firebaseui from 'firebaseui';\r\n\r\n@Injectable()\r\nexport class FirebaseConfigService {\r\n\r\n  static firebaseUiAuthConfig: firebaseui.auth.Config = {\r\n    signInFlow: 'popup',\r\n    signInOptions: [],\r\n    // tosUrl: '<your-tos-link>',\r\n    // privacyPolicyUrl: '<your-privacyPolicyUrl-link>',\r\n    credentialHelper: firebaseui.auth.CredentialHelper.NONE\r\n  };\r\n\r\n  static getFirebaseUiAuthConfig(authProviders: IFirebaseAuthProviders) {\r\n    if (authProviders.googleAuthProvider) {\r\n      FirebaseConfigService.firebaseUiAuthConfig.signInOptions.push(firebase.auth.GoogleAuthProvider.PROVIDER_ID);\r\n    }\r\n    if (authProviders.facebookAuthProvider) {\r\n      FirebaseConfigService.firebaseUiAuthConfig.signInOptions.push({\r\n          scopes: [\r\n            'public_profile',\r\n            'email',\r\n            'user_likes',\r\n            'user_friends'\r\n          ],\r\n          customParameters: {\r\n            auth_type: 'reauthenticate'\r\n          },\r\n          provider: firebase.auth.FacebookAuthProvider.PROVIDER_ID\r\n        });\r\n     }\r\n    if (authProviders.emailAuthProvider) {\r\n      FirebaseConfigService.firebaseUiAuthConfig.signInOptions.push({\r\n        requireDisplayName: true,\r\n        provider: firebase.auth.EmailAuthProvider.PROVIDER_ID\r\n      });\r\n    }\r\n    if (authProviders.twitterAuthProvider) {\r\n      FirebaseConfigService.firebaseUiAuthConfig.signInOptions.push(firebase.auth.TwitterAuthProvider.PROVIDER_ID);\r\n     }\r\n    if (authProviders.githubAuthProvider) {\r\n      FirebaseConfigService.firebaseUiAuthConfig.signInOptions.push(firebase.auth.GithubAuthProvider.PROVIDER_ID);\r\n     }\r\n    if (authProviders.phoneAuthProvider) {\r\n      FirebaseConfigService.firebaseUiAuthConfig.signInOptions.push(firebase.auth.PhoneAuthProvider.PROVIDER_ID);\r\n     }\r\n    if (authProviders.anonymousAuthProvider) {\r\n      FirebaseConfigService.firebaseUiAuthConfig.signInOptions.push(firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID);\r\n     }\r\n    return FirebaseConfigService.firebaseUiAuthConfig;\r\n  }\r\n\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgModule, InjectionToken, ModuleWithProviders } from '@angular/core';\r\nimport { FirebaseUIModule } from 'firebaseui-angular';\r\nimport { AngularFireModule } from '@angular/fire';\r\nimport { AngularFireAuthModule } from '@angular/fire/auth';\r\nimport { IFirebaseConf, IFirebaseAuthProviders } from './ngafr-firebase-config.model';\r\nimport { FirebaseConfigService } from './ngafr-firebase-config.service';\r\nimport { NgafrAuthDirective } from './ngafr-authentication.directive';\r\nimport { NgafrAuthenticationComponent } from './ngafr-authentication.component';\r\n\r\nexport const FirebaseConfigData = new InjectionToken<IFirebaseConf>('FIREBASECONF');\r\n\r\n\r\n@NgModule({\r\n  declarations: [NgafrAuthDirective, NgafrAuthenticationComponent],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    AngularFireAuthModule,\r\n    FirebaseUIModule\r\n  ],\r\n  exports: [NgafrAuthDirective, NgafrAuthenticationComponent],\r\n  providers: [FirebaseConfigService],\r\n  entryComponents: [NgafrAuthenticationComponent]\r\n})\r\n\r\nexport class NgafrAuthenticationModule {\r\n  public static forRoot(firebaseConfig: IFirebaseConf, authProviders: IFirebaseAuthProviders): ModuleWithProviders {\r\n    const firebaseUiAuthConfig = FirebaseConfigService.getFirebaseUiAuthConfig(authProviders);\r\n    return {\r\n      ngModule: NgafrAuthenticationModule,\r\n      providers: [\r\n        FirebaseConfigService,\r\n        AngularFireModule.initializeApp(firebaseConfig).providers,\r\n        {provide: FirebaseConfigData, useValue: firebaseConfig},\r\n        FirebaseUIModule.forRoot(firebaseUiAuthConfig).providers\r\n      ]\r\n    };\r\n  }\r\n}\r\n\r\n\r\n"],"names":["BehaviorSubject","map","catchError","of","Injectable","AngularFireAuth","Component","ViewEncapsulation","ChangeDetectorRef","ViewChild","EventEmitter","Directive","ComponentFactoryResolver","ViewContainerRef","ElementRef","Input","Output","firebase.auth","firebaseui.auth","InjectionToken","AngularFireModule","FirebaseUIModule","NgModule","BrowserModule","FormsModule","AngularFireAuthModule"],"mappings":"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"}